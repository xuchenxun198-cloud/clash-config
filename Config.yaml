port: 7892
socks-port: 7891
mixed-port: 7890
allow-lan: false
bind-address: 127.0.0.1
mode: rule
log-level: info
ipv6: true
unified-delay: true
tcp-concurrent: true
find-process-mode: off

authentication: []
skip-auth-prefixes:
  - 127.0.0.1/32
  - ::1/128

dns:
  enable: true
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16

  nameserver:
    - 223.5.5.5
    - 223.6.6.6
    - 114.114.114.114
    - 114.114.115.115

  fallback:
    - https://dns.google/dns-query
    - https://cloudflare-dns.com/dns-query

  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/32
    domain:
      - +.google.com
      - +.youtube.com
      - +.facebook.com
      - +.twitter.com
      - +.telegram.org
      - +.t.me
      - +.openai.com
      - +.chatgpt.com

  fake-ip-filter:
    - +.lan
    - +.local
    - localhost.ptlogin2.qq.com
    - +.ntp.org
    - ntp.*.com
    - time.*.com
    - +.msftconnecttest.com
    - +.msftncsi.com
    - +.market.xiaomi.com
    - +.steamcontent.com
    - +.steamserver.net
    - +.epicgames.com
    - +.battle.net

  use-hosts: false
  use-system-hosts: false
  respect-rules: true

  default-nameserver:
    - 223.5.5.5
    - 114.114.114.114

  proxy-server-nameserver:
    - 223.5.5.5
    - 114.114.114.114

  direct-nameserver:
    - 223.5.5.5
    - 114.114.114.114

proxy-providers:
  æµé‡å…‰æœºåœº:
    type: http
    url: https://drfytjmjhggnrgergergergerg6555.saojc.xyz/api/v1/client/subscribe?token=011b4801ea0915957434812d8a52a514
    interval: 3600
    path: ./providers/liuliangguang.yaml
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204

  è‰¯å¿ƒäº‘:
    type: http
    url: https://liangxin.xyz/api/v1/liangxin?OwO=7b48b9fb2b42d566d03346c52258344b
    interval: 3600
    path: ./providers/liangxin.yaml
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204

  Mitce:
    type: http
    url: https://app.mitce.net/?sid=346188&token=srvrcsgv
    interval: 3600
    path: ./providers/mitce.yaml
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204

  XFLTD:
    type: http
    url: http://8.212.7.131:777/api/v1/client/subscribe?token=229c97de7723af1e58e2a35230d1569b
    interval: 3600
    path: ./providers/xfltd.yaml
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204

  OneStep:
    type: http
    url: https://decker.onelastkissstep.cyou/one/last/kiss/?token=95cc4f76f29748fc38bf92a46cc2a534
    interval: 3600
    path: ./providers/onestep.yaml
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204

  å®ˆå€™ç½‘ç»œ:
    type: http
    url: https://sub1.sntp.me/baseStr?token=a7227c7abc9751b27b7e42a2f7d4935c&sign=5589aea9b3fac54ed3aa58bb2150f77a&ts=1768478757&nonce=a168020294a9fc6fe99b5dade17a3544&v=v2&timestamp=147913
    interval: 3600
    path: ./providers/shouhou.yaml
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204

proxy-groups:
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - âš¡ è‡ªåŠ¨é€‰æ‹©
      - ğŸ–±ï¸ æ‰‹åŠ¨é€‰æ‹©
      - ğŸ‡­ğŸ‡° é¦™æ¸¯
      - ğŸ‡¹ğŸ‡¼ å°æ¹¾
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬
      - ğŸ‡ºğŸ‡¸ ç¾å›½
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡
      - ğŸ‡°ğŸ‡· éŸ©å›½
      - DIRECT

  - name: âš¡ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - è‰¯å¿ƒäº‘
      - Mitce
      - XFLTD
      - OneStep
      - å®ˆå€™ç½‘ç»œ
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ–±ï¸ æ‰‹åŠ¨é€‰æ‹©
    type: select
    use:
      - æµé‡å…‰æœºåœº
      - è‰¯å¿ƒäº‘
      - Mitce
      - XFLTD
      - OneStep
      - å®ˆå€™ç½‘ç»œ

  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - è‰¯å¿ƒäº‘
      - Mitce
      - XFLTD
      - OneStep
      - å®ˆå€™ç½‘ç»œ
    filter: (?i)(æ¸¯|HK|Hong)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡¹ğŸ‡¼ å°æ¹¾
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - è‰¯å¿ƒäº‘
      - Mitce
      - XFLTD
      - OneStep
      - å®ˆå€™ç½‘ç»œ
    filter: (?i)(å°|TW|Tai)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - è‰¯å¿ƒäº‘
      - Mitce
      - XFLTD
      - OneStep
      - å®ˆå€™ç½‘ç»œ
    filter: (?i)(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡ºğŸ‡¸ ç¾å›½
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - è‰¯å¿ƒäº‘
      - Mitce
      - XFLTD
      - OneStep
      - å®ˆå€™ç½‘ç»œ
    filter: (?i)(ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - è‰¯å¿ƒäº‘
      - Mitce
      - XFLTD
      - OneStep
      - å®ˆå€™ç½‘ç»œ
    filter: (?i)(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡°ğŸ‡· éŸ©å›½
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - è‰¯å¿ƒäº‘
      - Mitce
      - XFLTD
      - OneStep
      - å®ˆå€™ç½‘ç»œ
    filter: (?i)(KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“)
    url: http://www.gstatic.com/generate_204
    interval: 600

rule-providers:
  adguard-sdns:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/AdGuardSDNSFilter.yaml
    path: ./ruleset/adguard-sdns.yaml
    interval: 86400

  advertising:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/Advertising.yaml
    path: ./ruleset/advertising.yaml
    interval: 86400

  apple:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/Apple.yaml
    path: ./ruleset/apple.yaml
    interval: 86400

  BlockHttpDNS:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BlockHttpDNS/BlockHttpDNS.yaml
    path: ./ruleset/BlockHttpDNS.yaml
    interval: 86400

  china-dns:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/ChinaDNS.yaml
    path: ./ruleset/china-dns.yaml
    interval: 86400

  china-ips:
    type: http
    behavior: ipcidr
    url: https://rule.kelee.one/Clash/ChinaIPs.yaml
    path: ./ruleset/china-ips.yaml
    interval: 86400

  china-max-no-ip:
    type: http
    behavior: classical
    url: https://rule.kelee.one/Clash/ChinaMaxNoIP.yaml
    path: ./ruleset/china-max-no-ip.yaml
    interval: 86400

  hijacking:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/Hijacking.yaml
    path: ./ruleset/hijacking.yaml
    interval: 86400

  privacy:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/Privacy.yaml
    path: ./ruleset/privacy.yaml
    interval: 86400

rules:
  - RULE-SET,adguard-sdns,REJECT
  - RULE-SET,advertising,REJECT
  - RULE-SET,BlockHttpDNS,REJECT
  - RULE-SET,hijacking,REJECT
  - RULE-SET,privacy,REJECT
  - RULE-SET,apple,DIRECT
  - RULE-SET,china-dns,DIRECT
  - RULE-SET,china-max-no-ip,DIRECT
  - RULE-SET,china-ips,DIRECT
  - MATCH,ğŸš€ èŠ‚ç‚¹é€‰æ‹©

profile:
  store-selected: true
  store-fake-ip: true

geo-auto-update: true
geo-update-interval: 24
geodata-mode: true

sniffer:
  enable: true
  parse-pure-ip: true
  force-dns-mapping: true
  override-destination: true
  sniff:
    HTTP:
      ports: [80, 443]
    TLS:
      ports: [443]
  skip-domain:
    - +.push.apple.com

geox-url:
  geoip: https://github.com/Loyalsoldier/v2ray-rules-dat/releases/latest/download/geoip.dat
  geosite: https://github.com/Loyalsoldier/v2ray-rules-dat/releases/latest/download/geosite.dat
  mmdb: https://github.com/MetaCubeX/meta-rules-dat/releases/latest/download/country.mmdb
  asn: https://github.com/MetaCubeX/meta-rules-dat/releases/latest/download/asn.mmdb
