port: 7892
socks-port: 7891
mixed-port: 7890
allow-lan: false
bind-address: "*"
mode: rule
log-level: info
ipv6: true
unified-delay: true
tcp-concurrent: true
find-process-mode: strict

authentication: []
skip-auth-prefixes:
  - 127.0.0.1/32
  - ::1/128

dns:
  enable: true
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16

  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query

  fallback:
    - https://dns.google/dns-query
    - https://cloudflare-dns.com/dns-query

  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/32
    domain:
      - +.google.com
      - +.facebook.com
      - +.youtube.com

  fake-ip-filter:
    - +.lan
    - +.local
    - time.*.com
    - ntp.*.com
    - +.market.xiaomi.com

  use-hosts: false
  use-system-hosts: false
  respect-rules: true

  default-nameserver:
    - tls://223.5.5.5

  proxy-server-nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query

  direct-nameserver: []

proxy-providers:
  æµé‡å…‰æœºåœº:
    type: http
    url: https://drfytjmjhggnrgergergergerg6555.saojc.xyz/api/v1/client/subscribe?token=011b4801ea0915957434812d8a52a514
    interval: 3600
    path: ./providers/liuliangguang.yaml
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204

  BestTelegram:
    type: http
    url: https://oss114514.besttelecom.cc/api/v1/client/subscribe?token=89d3f9b74ffe324d4fdeeb637d2241a1
    interval: 3600
    path: ./providers/besttelegram.yaml
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204

  è‰¯å¿ƒäº‘:
    type: http
    url: https://liangxin.xyz/api/v1/liangxin?OwO=7b48b9fb2b42d566d03346c52258344b
    interval: 3600
    path: ./providers/liangxin.yaml
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204

  Mitce:
    type: http
    url: https://app.mitce.net/?sid=346188&token=srvrcsgv
    interval: 3600
    path: ./providers/mitce.yaml
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204

proxy-groups:
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - âš¡ è‡ªåŠ¨é€‰æ‹©
      - ğŸ–±ï¸ æ‰‹åŠ¨é€‰æ‹©
      - ğŸ‡­ğŸ‡° é¦™æ¸¯
      - ğŸ‡¹ğŸ‡¼ å°æ¹¾
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬
      - ğŸ‡ºğŸ‡¸ ç¾å›½
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡
      - ğŸ‡°ğŸ‡· éŸ©å›½
      - DIRECT

  - name: âš¡ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - BestTelegram
      - è‰¯å¿ƒäº‘
      - Mitce
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ–±ï¸ æ‰‹åŠ¨é€‰æ‹©
    type: select
    use:
      - æµé‡å…‰æœºåœº
      - BestTelegram
      - è‰¯å¿ƒäº‘
      - Mitce

  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - BestTelegram
      - è‰¯å¿ƒäº‘
      - Mitce
    filter: (?i)(æ¸¯|HK|Hong)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡¹ğŸ‡¼ å°æ¹¾
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - BestTelegram
      - è‰¯å¿ƒäº‘
      - Mitce
    filter: (?i)(å°|TW|Tai)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - BestTelegram
      - è‰¯å¿ƒäº‘
      - Mitce
    filter: (?i)(æ—¥æœ¬|ä¸œäº¬|å¤§é˜ª|JP|Japan)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡ºğŸ‡¸ ç¾å›½
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - BestTelegram
      - è‰¯å¿ƒäº‘
      - Mitce
    filter: (?i)(ç¾|US|United States)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - BestTelegram
      - è‰¯å¿ƒäº‘
      - Mitce
    filter: (?i)(æ–°åŠ å¡|SG|Singapore)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡°ğŸ‡· éŸ©å›½
    type: url-test
    use:
      - æµé‡å…‰æœºåœº
      - BestTelegram
      - è‰¯å¿ƒäº‘
      - Mitce
    filter: (?i)(KR|Korea|é¦–å°”|éŸ©)
    url: http://www.gstatic.com/generate_204
    interval: 600

rule-providers:
  BlockHttpDNS:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/BlockHttpDNS.yaml
    path: ./ruleset/BlockHttpDNS.yaml
    interval: 86400

  adguard-sdns:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/AdGuardSDNSFilter.yaml
    path: ./ruleset/adguard-sdns.yaml
    interval: 86400

  advertising:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/Advertising.yaml
    path: ./ruleset/advertising.yaml
    interval: 86400

  privacy:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/Privacy.yaml
    path: ./ruleset/privacy.yaml
    interval: 86400

  hijacking:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/Hijacking.yaml
    path: ./ruleset/hijacking.yaml
    interval: 86400

  apple:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/Apple.yaml
    path: ./ruleset/apple.yaml
    interval: 86400

  china-dns:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/ChinaDNS.yaml
    path: ./ruleset/china-dns.yaml
    interval: 86400

  china-max-no-ip:
    type: http
    behavior: classical
    url: https://rule.kelee.one/Clash/ChinaMaxNoIP.yaml
    path: ./ruleset/china-max-no-ip.yaml
    interval: 86400

  china-ips:
    type: http
    behavior: ipcidr
    url: https://rule.kelee.one/Clash/ChinaIPs.yaml
    path: ./ruleset/china-ips.yaml
    interval: 86400

rules:
  - RULE-SET,BlockHttpDNS,REJECT
  - RULE-SET,adguard-sdns,REJECT
  - RULE-SET,advertising,REJECT
  - RULE-SET,privacy,REJECT
  - RULE-SET,hijacking,REJECT
  - RULE-SET,apple,DIRECT
  - RULE-SET,china-dns,DIRECT
  - RULE-SET,china-max-no-ip,DIRECT
  - RULE-SET,china-ips,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,ğŸš€ èŠ‚ç‚¹é€‰æ‹©

profile:
  store-selected: true
  store-fake-ip: true

geo-auto-update: true
geo-update-interval: 24
geodata-mode: false

external-controller: ""
redir-port: 0
tproxy-port: 0

lan-allowed-ips:
  - 0.0.0.0/0
  - ::/0
lan-disallowed-ips: []

tun:
  enable: false
  device: Mihomo
  stack: mixed
  auto-route: true
  auto-redirect: false
  auto-detect-interface: true
  dns-hijack:
    - any:53
  route-exclude-address: []
  mtu: 1500

sniffer:
  enable: true
  parse-pure-ip: true
  force-dns-mapping: true
  override-destination: true
  sniff:
    HTTP:
      ports: [80, 443]
      override-destination: true
    TLS:
      ports: [443]
  skip-domain:
    - +.push.apple.com
  skip-dst-address:
    - 91.105.192.0/23
    - 91.108.4.0/22
    - 91.108.8.0/21
    - 91.108.16.0/21
    - 91.108.56.0/22
    - 95.161.64.0/20
    - 149.154.160.0/20
    - 185.76.151.0/24
    - 2001:67c:4e8::/48
    - 2001:b28:f23c::/47
    - 2001:b28:f23f::/48
    - 2a0a:f280:203::/48
  force-domain: []
  skip-src-address: []

geox-url:
  geoip: https://github.com/Loyalsoldier/v2ray-rules-dat/releases/latest/download/geoip.dat
  geosite: https://github.com/Loyalsoldier/v2ray-rules-dat/releases/latest/download/geosite.dat
  mmdb: https://github.com/MetaCubeX/meta-rules-dat/releases/latest/download/country.mmdb
  asn: https://github.com/MetaCubeX/meta-rules-dat/releases/latest/download/asn.mmdb
