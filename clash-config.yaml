port: 7892
socks-port: 7891
mixed-port: 7890
allow-lan: false
bind-address: 127.0.0.1
mode: rule
log-level: info
ipv6: true
unified-delay: true
tcp-concurrent: true
find-process-mode: strict

authentication: []
skip-auth-prefixes:
  - 127.0.0.1/32
  - ::1/128

dns:
  enable: true
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/15

  nameserver:
    - 223.5.5.5
    - 223.6.6.6
    - 114.114.114.114
    - 114.114.115.115

  fallback:
    - https://dns.google/dns-query
    - https://cloudflare-dns.com/dns-query

  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/32
    domain:
      - +.google.com
      - +.youtube.com
      - +.facebook.com
      - +.twitter.com
      - +.telegram.org
      - +.t.me
      - +.openai.com
      - +.chatgpt.com

  fake-ip-filter:
    - +.lan
    - +.local
    - localhost.ptlogin2.qq.com
    - +.ntp.org
    - ntp.*.com
    - time.*.com
    - +.msftconnecttest.com
    - +.msftncsi.com
    - +.market.xiaomi.com

  use-hosts: false
  use-system-hosts: false
  respect-rules: true

  default-nameserver:
    - 223.5.5.5
    - 114.114.114.114

  proxy-server-nameserver:
    - 223.5.5.5
    - 114.114.114.114

  direct-nameserver:
    - 223.5.5.5
    - 114.114.114.114

proxy-providers:
  XFLTD:
    type: http
    url: https://api.xfltd.click/cctv/user/client/get?token=90910a0f8fd1dcbe63c024a4a78dee28
    interval: 86400
    path: ./providers/xfltd.yaml
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204

  OneStep:
    type: http
    url: https://decker.onelastkissstep.cyou/one/last/kiss/?token=95cc4f76f29748fc38bf92a46cc2a534
    interval: 86400
    path: ./providers/onestep.yaml
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204

  BestTelegram:
    type: http
    url: https://suuuuuuub.besttelecom.cc/api/v1/client/subscribe?token=3c38f1f6ee4915cadb9862fd37e6d95e
    interval: 86400
    path: ./providers/besttelegram.yaml
    health-check:
      enable: true
      interval: 300
      url: https://cp.cloudflare.com/generate_204

proxy-groups:
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - âš¡ è‡ªåŠ¨é€‰æ‹©
      - ğŸ–±ï¸ æ‰‹åŠ¨é€‰æ‹©
      - ğŸ‡­ğŸ‡° é¦™æ¸¯
      - ğŸ‡¹ğŸ‡¼ å°æ¹¾
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬
      - ğŸ‡ºğŸ‡¸ ç¾å›½
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡
      - ğŸ‡°ğŸ‡· éŸ©å›½
      - DIRECT

  - name: âš¡ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    use:
      - XFLTD
      - OneStep
      - BestTelegram
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ–±ï¸ æ‰‹åŠ¨é€‰æ‹©
    type: select
    use:
      - XFLTD
      - OneStep
      - BestTelegram

  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯
    type: url-test
    use:
      - XFLTD
      - OneStep
      - BestTelegram
    filter: (?i)(æ¸¯|HK|Hong)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡¹ğŸ‡¼ å°æ¹¾
    type: url-test
    use:
      - XFLTD
      - OneStep
      - BestTelegram
    filter: (?i)(å°|TW|Tai)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬
    type: url-test
    use:
      - XFLTD
      - OneStep
      - BestTelegram
    filter: (?i)(æ—¥æœ¬|ä¸œäº¬|å¤§é˜ª|JP|Japan)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡ºğŸ‡¸ ç¾å›½
    type: url-test
    use:
      - XFLTD
      - OneStep
      - BestTelegram
    filter: (?i)(ç¾|US|United States)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡
    type: url-test
    use:
      - XFLTD
      - OneStep
      - BestTelegram
    filter: (?i)(æ–°åŠ å¡|SG|Singapore)
    url: http://www.gstatic.com/generate_204
    interval: 600

  - name: ğŸ‡°ğŸ‡· éŸ©å›½
    type: url-test
    use:
      - XFLTD
      - OneStep
      - BestTelegram
    filter: (?i)(KR|Korea|é¦–å°”|éŸ©)
    url: http://www.gstatic.com/generate_204
    interval: 600

rule-providers:
  adguard-sdns:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/AdGuardSDNSFilter.yaml
    path: ./ruleset/adguard-sdns.yaml
    interval: 86400

  advertising:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/Advertising.yaml
    path: ./ruleset/advertising.yaml
    interval: 86400

  apple:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/Apple.yaml
    path: ./ruleset/apple.yaml
    interval: 86400

  BlockHttpDNS:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BlockHttpDNS/BlockHttpDNS.yaml
    path: ./ruleset/BlockHttpDNS.yaml
    interval: 86400

  china-dns:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/ChinaDNS.yaml
    path: ./ruleset/china-dns.yaml
    interval: 86400

  china-ips:
    type: http
    behavior: ipcidr
    url: https://rule.kelee.one/Clash/ChinaIPs.yaml
    path: ./ruleset/china-ips.yaml
    interval: 86400

  china-max-no-ip:
    type: http
    behavior: classical
    url: https://rule.kelee.one/Clash/ChinaMaxNoIP.yaml
    path: ./ruleset/china-max-no-ip.yaml
    interval: 86400

  hijacking:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/Hijacking.yaml
    path: ./ruleset/hijacking.yaml
    interval: 86400

  privacy:
    type: http
    behavior: domain
    url: https://rule.kelee.one/Clash/Privacy.yaml
    path: ./ruleset/privacy.yaml
    interval: 86400

rules:
  - RULE-SET,adguard-sdns,REJECT
  - RULE-SET,advertising,REJECT
  - RULE-SET,BlockHttpDNS,REJECT
  - RULE-SET,hijacking,REJECT
  - RULE-SET,privacy,REJECT
  - RULE-SET,apple,DIRECT
  - RULE-SET,china-dns,DIRECT
  - RULE-SET,china-max-no-ip,DIRECT
  - RULE-SET,china-ips,DIRECT
  - MATCH,ğŸš€ èŠ‚ç‚¹é€‰æ‹©

profile:
  store-selected: true
  store-fake-ip: true

geo-auto-update: true
geo-update-interval: 24
geodata-mode: true

sniffer:
  enable: true
  parse-pure-ip: true
  force-dns-mapping: true
  override-destination: true
  sniff:
    HTTP:
      ports: [80, 443]
    TLS:
      ports: [443]
  skip-domain:
    - +.push.apple.com

geox-url:
  geoip: https://github.com/Loyalsoldier/v2ray-rules-dat/releases/latest/download/geoip.dat
  geosite: https://github.com/Loyalsoldier/v2ray-rules-dat/releases/latest/download/geosite.dat
  mmdb: https://github.com/MetaCubeX/meta-rules-dat/releases/latest/download/country.mmdb
  asn: https://github.com/MetaCubeX/meta-rules-dat/releases/latest/download/asn.mmdb
